<!DOCTYPE html>
 <html lang="fr">
 <head>
   <meta charset="UTF-8">
   <title>GlobalArtPro</title>
   <style>
     body {
       margin: 0;
       font-family: Arial, sans-serif;
       background: linear-gradient(to right,#141E30, #243B55); 
       color: white;
       background: linear-gradient(to right,#141E30, #243B55);
       color: #fff;
       text-align: center;
       min-height: 100vh;
     }
     header {
       padding: 2rem;
       padding: 2rem 1rem 1rem 1rem;
     }
     header h1 {
       font-size: 2.5rem;
       margin: 0;
       color: gold;
       letter-spacing: 2px;
     }
     header p {
       font-size: 1.2rem;
       color: #ddd;
       color: #eee;
       margin-bottom: 1rem;
     }
     #langSwitcher {
       margin: 1rem 0;
       padding: 0.5rem;
       border-radius: 6px;
       border: none;
       font-size: 1rem;
     }
     .buttons {
       margin: 2rem 0;
       display: flex;
       flex-wrap: wrap;
       justify-content: center;       
       gap: 1rem;
     }
     .buttons a {
       display: inline-block;
       margin: 0.5rem;
     }
     nav {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
}
nav a, nav button {
  flex: 1 1 180px;
  min-width: 160px;
  margin: 0.5rem;
}
     nav a, nav button {
       background: gold;
       color: #2d0066;
       padding: 1rem 2rem;
       background: #ffcc00;
       color: #000;
       border-radius: 12px;
       text-decoration: none;
       font-weight: bold;
       font-size: 1.1rem;
       box-shadow: 0 2px 8px #0002;   
       transition: background 0.2s;
       border: none;
       cursor: pointer;
       margin-bottom: 0.5rem;
     }
     nav a:hover, nav button:hover {
       background: #fff;
       color: #6a11cb;
     }
     body {
  background: radial-gradient(circle at 50% 30%, #0D0D1A 70%, #141E30 100%);
  color: #fff;
}
#howMiningWorks span[style*="font-size:2em;"] {
  animation: pulseGlow 1.7s infinite alternate;
}
#miningSection {
  background: rgba(20, 20, 40, 0.85);
  box-shadow: 0 0 32px 8px #6a11cb55, 0 0 80px 8px #ffd70033;
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}
#miningSection::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 24px;
  pointer-events: none;
  box-shadow: 0 0 80px 20px #ffd70044, 0 0 120px 40px #6a11cb33;
  z-index: 0;
}
#miningSection h2 {
  color: #ffd700;
  text-shadow: 0 0 12px #ffd70088, 0 0 24px #6a11cb88;
}
#miningSection .btn-stroke {
  position: relative;
  z-index: 2;
  box-shadow: 0 0 24px 4px #ffd70099, 0 0 32px 8px #6a11cb55;
  animation: pulseGlow 1.8s infinite alternate;
}
@keyframes pulseGlow {
  0% { box-shadow: 0 0 24px 4px #ffd70099, 0 0 32px 8px #6a11cb55; }
  100% { box-shadow: 0 0 48px 12px #ffd700cc, 0 0 64px 16px #6a11cb99; }
}
.symbol-anim {
  font-size: 2.2em;
  animation: symbolPulse 1.8s infinite alternate;
  filter: drop-shadow(0 0 8px #ffd70088);
}
.symbol-anim:nth-child(2) { animation-delay: 0.3s; }
.symbol-anim:nth-child(3) { animation-delay: 0.6s; }
.symbol-anim:nth-child(4) { animation-delay: 0.9s; }
.symbol-anim:nth-child(5) { animation-delay: 1.2s; }
@keyframes symbolPulse {
  0% { transform: scale(1) rotate(0deg);}
  100% { transform: scale(1.18) rotate(12deg);}
}
#miningAura {
  position: absolute;
  left: 50%; top: 54%;
  transform: translate(-50%, -50%);
  width: 180px; height: 180px;
  border-radius: 50%;
  background: radial-gradient(circle, #ffd70044 0%, #6a11cb22 80%, transparent 100%);
  box-shadow: 0 0 48px 12px #ffd70088, 0 0 64px 16px #6a11cb55;
  z-index: 1;
  pointer-events: none;
  animation: auraSpin 3s linear infinite;
}
@keyframes auraSpin {
  0% { transform: translate(-50%, -50%) rotate(0deg);}
  100% { transform: translate(-50%, -50%) rotate(360deg);}
}
#energyBar {
  background: linear-gradient(90deg, #6a11cb 0%, #ffd700 100%);
  box-shadow: 0 0 12px #ffd70055;
}
#energyFill {
  background: linear-gradient(90deg, #ffd700 0%, #6a11cb 100%);
  box-shadow: 0 0 16px #ffd70099;
}
     section {
       margin: 2rem 0;
     }
     #pi-network button {
       margin: 0.5rem;
       padding: 0.7rem 1.5rem;        
       border: none;
       border-radius: 8px;
       background: gold;
       color: #2d0066;
       font-weight: bold;
       transition: 0.3s;
       cursor: pointer;
       font-size: 1rem;
       transition: background 0.2s;   
     }
     .buttons a:hover {
       background: #ffaa00;
     }
     .kpi-icon {
  font-size: 2.2em;
  margin-bottom: 0.2em;
  display: block;
  transition: transform 0.3s;
}
.kpi-card:hover .kpi-icon {
  transform: scale(1.18) rotate(-8deg);
}
     #gapStudioTabs {
   margin-bottom: 1.2em;
 }
  #gapStudioTabs button {
   background: #fff;
   color: #6a11cb;
   border: none;
   border-radius: 8px 8px 0 0;        
   padding: 0.7em 2em;
   font-size: 1.1em;
   margin-right: 0.2em;
   cursor: pointer;
   font-weight: bold;
   opacity: 0.7;
   transition: opacity 0.2s;
 }
 #gapStudioTabs button.active {       
   background: gold;
   color: #2d0066;
   opacity: 1;
 }
     #pi-network button:hover {       
       background: #fff;
       color: #6a11cb;
     }
     .card {
       background: rgba(255,255,255,0.07);
       border-radius: 16px;
       margin: 1rem auto;
       padding: 1.5rem;
       max-width: 700px;
       box-shadow: 0 2px 16px #0001;  
     }
     footer {
       margin-top: 3rem;
       padding: 1rem;
       background: rgba(255, 255, 255, 0.1);
       font-size: 0.9rem;
       background: rgba(255,255,255,0.08);
       font-size: 0.95rem;
       color: #eee;
     }
     .landing-btns {
   margin: 2.5rem 0 1.5rem 0;
   display: flex;
   justify-content: center;
   gap: 2rem;
   animation: fadeInBounce 1.2s cubic-bezier(.23,1.13,.55,.99);
 }
 
 @keyframes fadeInBounce {
   0% { opacity: 0; transform: translateY(40px) scale(0.95);}
   60% { opacity: 1; transform: translateY(-10px) scale(1.05);}
   80% { transform: translateY(4px) scale(0.98);}
   100% { opacity: 1; transform: translateY(0) scale(1);}
 }
 .partner-anim {
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: partnerBounce 2s infinite alternate;
}
.partner-anim:nth-child(2) { animation-delay: 0.5s; }
.partner-anim:nth-child(3) { animation-delay: 1s; }

@keyframes partnerBounce {
  0% { transform: translateY(0);}
  60% { transform: translateY(-18px) scale(1.08);}
  100% { transform: translateY(0);}
}
@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(40px);}
  100% { opacity: 1; transform: translateY(0);}
}
.kpi-card {
  animation: fadeInUp 0.8s cubic-bezier(.23,1.13,.55,.99);
}
.kpi-card:nth-child(2) { animation-delay: 0.2s; }
.kpi-card:nth-child(3) { animation-delay: 0.4s; }
.kpi-card:nth-child(4) { animation-delay: 0.6s; }
 /* Stroke Animation */
 .btn-stroke {
   position: relative;
   background: linear-gradient(90deg, #ffd700 0%, #6a11cb 100%);
   color: #2d0066;
   font-size: 1.2rem;
   padding: 1.1rem 2.7rem;
   border: none;
   border-radius: 16px;
   font-weight: bold;
   overflow: hidden;
   z-index: 1;
   box-shadow: 0 2px 12px #0002;      
   cursor: pointer;
   transition: color 0.3s;
 }
 .btn-stroke:before {
   content: "";
   position: absolute;
   inset: 0;
   border-radius: 16px;
   border: 3px solid #ffd700;
   z-index: 2;
   pointer-events: none;
   animation: strokeDraw 1.2s cubic-bezier(.23,1.13,.55,.99) 0.2s both;     
 }
 @keyframes strokeDraw {
   0% { border-color: transparent; }  
   60% { border-color: #ffd700; }     
   100% { border-color: #ffd700; }    
 }
 .btn-stroke:hover, .btn-stroke:focus {
   color: #fff;
   background: linear-gradient(90deg, #6a11cb 0%, #ffd700 100%);
 }
 .btn-stroke:after {
   content: "";
   position: absolute;
   inset: 0;
   border-radius: 16px;
   background: linear-gradient(90deg, #ffd700 0%, #6a11cb 100%);
   opacity: 0;
   transition: opacity 0.3s;
   z-index: 1;
 }
 .btn-stroke:hover:after, .btn-stroke:focus:after {
 opacity: 0.25;
 }
 
 /* Glassmorphism + Glow */
 .btn-glass {
   position: relative;
   background: rgba(255,255,255,0.18);
   color: #6a11cb;
   font-size: 1.2rem;
   padding: 1.1rem 2.7rem;
   border: none;
   border-radius: 16px;
   font-weight: bold;
   box-shadow: 0 4px 24px 0 rgba(106,17,203,0.18), 0 0 16px 2px #ffd70055;  
   backdrop-filter: blur(8px);        
   border: 2px solid rgba(255,255,255,0.25);
   cursor: pointer;
   overflow: hidden;
   transition: background 0.3s, color 0.3s, box-shadow 0.3s;
 }
 .btn-glass:hover, .btn-glass:focus {
   background: rgba(255,255,255,0.32);
   color: #2d0066;
   box-shadow: 0 6px 32px 0 #ffd70099, 0 0 24px 4px #6a11cb55;
 }
 
 #svgWorldMap g path, #svgWorldMap ellipse {
   transition: opacity 0.2s, filter 0.2s;
 }
 #svgWorldMap {
   animation: fadeInBounce 1.2s cubic-bezier(.23,1.13,.55,.99);
 }
 .kpi-card {
  background: rgba(255,255,255,0.13);
  border-radius: 16px;
  box-shadow: 0 2px 16px #0002;
  padding: 1.2em 2em;
  text-align: center;
  min-width: 120px;
  transition: transform 0.2s;
  font-family: 'Poppins', Inter, sans-serif;
}
.kpi-card:hover { transform: scale(1.05); }
.kpi-value { font-size: 2.1em; font-weight: bold; color: #ffd700; }
.kpi-label { font-size: 1em; color: #eee; margin-top: 0.3em; }
.dashboard-header select, .dashboard-header input[type="search"] {
  background: rgba(255,255,255,0.08);
  color: #ffd700;
  border: none;
  font-size: 1em;
  margin-left: 0.5em;
}
.dashboard-table th, .dashboard-table td {
  padding: 0.7em;
  border-bottom: 1px solid #222;
}
.circle-kpi {
  position: absolute;
  left: 50%; top: 50%;
  width: 110px; height: 110px;
  background: rgba(255,255,255,0.13);
  border-radius: 50%;
  box-shadow: 0 2px 16px #0002;
  text-align: center;
  transform: translate(-50%,-50%) rotate(var(--angle)) translate(140px) rotate(calc(-1 * var(--angle)));
  transition: box-shadow 0.2s, transform 0.3s;
  cursor: pointer;
  font-family: 'Poppins', Inter, Arial, sans-serif;
  z-index: 1;
  animation: fadeInUp 1s;
}
.circle-kpi:hover {
  box-shadow: 0 4px 24px #ffd70099, 0 0 24px 4px #6a11cb55;
  transform: translate(-50%,-50%) rotate(var(--angle)) translate(140px) scale(1.08) rotate(calc(-1 * var(--angle)));
}
.circle-kpi .kpi-icon { font-size: 2em; margin-top: 0.3em; color: #ffd700; }
.circle-kpi .kpi-value { font-size: 1.3em; font-weight: bold; color: #ffd700; }
.circle-kpi .kpi-label { font-size: 0.95em; color: #eee; margin-top: 0.2em; }
@keyframes fadeInUp {
  0% { opacity: 0; transform: translateY(40px);}
  100% { opacity: 1; transform: translateY(0);}
}
 .dashboard-table {
   margin-top: 1em;
   overflow-x: auto;
 }
 .dashboard-table table {
   width: 100%;
   border-collapse: collapse;
 }
 .dashboard-table th {
   background: rgba(255,255,255,0.08);
   color: #ffd700;
   text-align: left;
 }
 .dashboard-table td {
   color: #eee;
 }
.dashboard-table tr:hover { background: rgba(255,255,255,0.13); }
 #cultureTooltip {
   position: absolute;
   background: rgba(0,0,0,0.85);      
   color: #ffd700;
   padding: 0.4em 1em;
   border-radius: 8px;
   pointer-events: none;
   font-size: 1.1em;
   z-index: 1000;
   display: none;
 }
 .btn-icon {
   display: inline-block;
   font-size: 1.5em;
   margin-right: 0.6em;
   vertical-align: middle;
   animation: iconBounce 1.2s infinite alternate cubic-bezier(.23,1.13,.55,.99);
 }
 .icon-palette { animation-delay: 0.1s; }
 .icon-star { animation-delay: 0.4s; }
 
 @keyframes iconBounce {
   0% { transform: translateY(0) scale(1);}
   60% { transform: translateY(-8px) scale(1.15);}
   100% { transform: translateY(0) scale(1);}
 }
 @keyframes floatPhrase {
   0% { transform: translateY(0);}
   100% { transform: translateY(-20px);}
 }
   </style>
   <script src="https://sdk.minepi.com/pi-sdk.js"></script>
   <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
   <script src="https://unpkg.com/globe.gl"></script>
 </head>
 <body>
  <header>
     <h1 data-key="welcome">üåç Bienvenue sur GlobalArtPro</h1>
     <p data-key="subtitle">La plateforme mondiale des artistes - Art, Culture & Innovation</p>
     <select id="langSwitcher">       
       <option value="fr">Fran√ßais</option>
       <option value="en">English</option>
       <option value="es">Espa√±ol</option>
       <option value="ru">–†—É—Å—Å–∫–∏–π</option>
       <option value="zh">‰∏≠Êñá</option>
     </select>
     <section id="pi-network" class="card">
  <h2>Interagir avec Pi Network</h2>
  <button id="btnConnectPi">Connecter Pi Wallet</button>
  <button onclick="showCreateArtwork()">Cr√©er une ≈ìuvre</button>
  <button onclick="showBuyArtwork()">Acheter une ≈ìuvre</button>
  <button onclick="generateCertificate()">G√©n√©rer certificat NFT</button>
  <button onclick="showHistory()">Voir historique NFT</button>
</section>
     <div class="landing-btns">
   <button class="btn-stroke" onclick="scrollToSection('marketplaceSection')">
     <span class="btn-icon icon-palette">üé®</span>
     D√©couvrir les artistes
   </button>
   <button class="btn-glass" onclick="scrollToSection('authSection')">
     <span class="btn-icon icon-star">
‚ú®</span>
     Rejoindre maintenant
   </button>
 </div>
   </header>
<nav>
 <nav class="main-nav">
   <a href="#" data-key="marketplace">Marketplace</a>
   <a href="#" data-key="museum">Mus√©es virtuels</a>
   <a href="#" data-key="community">Communaut√©</a>
   <a href="#" data-key="mining">Minage Art Coin</a>
   <a href="#" data-key="transactions">Transactions Crypto</a>
   <!-- ... -->
 </nav>
 <nav class="dashboard-nav">
   <a href="#" data-key="artistDashboard">Tableau de bord Artiste</a>       
   <a href="#" id="btnAdmin" data-key="adminDashboard">Admin</a>
   <a href="#" onclick="scrollToSection('gallerySection');return false;">Galerie</a>
   <a href="#" onclick="scrollToSection('cultureSection');return false;">Culture du Monde</a>
   <a href="#" onclick="scrollToSection('gapStudioSection');return false;">Cr√©er avec GAP Studio</a>
   <button id="btnScanner" type="button" data-key="scanner">Scanner RA</button>
   <button id="btnChallenges" type="button" data-key="challenges">Challenges cr√©atifs</button>
   <button id="btnDashboard" type="button" data-key="analytics">Dashboard Analytics</button>
   <a href="#donateSection" style="background:#fff;color:#6a11cb;font-weight:bold;">Soutenir</a>
 </nav>
<section id="dashboardSection" class="card" style="display:none;max-width:600px;">
  <div style="position:relative;width:360px;height:360px;margin:2em auto;">
    <img src="image/logo globalartpro.jpeg"
         alt="GlobalArtPro Logo"
         style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:120px;height:120px;border-radius:50%;box-shadow:0 2px 16px #0005;background:#fff;z-index:2;">
    <!-- KPI circulaires ... -->
    <div class="circle-kpi" style="--angle:0deg;" onclick="showKPIDetail('revenue')">
      <span class="kpi-icon">üí∞</span>
      <div class="kpi-value" id="kpiRevenue">1200 Pi</div>
      <div class="kpi-label">Chiffre d‚Äôaffaires</div>
    </div>
    <div class="circle-kpi" style="--angle:72deg;" onclick="showKPIDetail('artists')">
      <span class="kpi-icon">üë•</span>
      <div class="kpi-value" id="kpiArtists">42</div>
      <div class="kpi-label">Artistes actifs</div>
    </div>
    <div class="circle-kpi" style="--angle:144deg;" onclick="showKPIDetail('countries')">
      <span class="kpi-icon">üåç</span>
      <div class="kpi-value" id="kpiCountries">18</div>
      <div class="kpi-label">Pays connect√©s</div>
    </div>
    <div class="circle-kpi" style="--angle:216deg;" onclick="showKPIDetail('sales')">
      <span class="kpi-icon">üé®</span>
      <div class="kpi-value" id="kpiSales">87</div>
      <div class="kpi-label">≈íuvres vendues</div>
    </div>
    <div class="circle-kpi" style="--angle:288deg;" onclick="showKPIDetail('insight')">
      <span class="kpi-icon">üß†</span>
      <div class="kpi-value" id="kpiInsight">IA</div>
      <div class="kpi-label">Insight IA</div>
    </div>
  </div>
  <div id="kpiDetail" style="display:none;background:rgba(255,255,255,0.13);border-radius:12px;padding:1em;margin:1em 0;color:#ffd700;"></div>
  <div class="dashboard-table" style="background:rgba(255,255,255,0.07);border-radius:12px;padding:1em;">
    <h4 style="color:gold;">Artistes les plus performants</h4>
    <table style="width:100%;border-collapse:collapse;">
      <thead>
        <tr style="background:rgba(255,255,255,0.08);color:#ffd700;">
          <th>Artiste</th>
          <th>Pays</th>
          <th>≈íuvres vendues</th>
          <th>Revenus</th>
        </tr>
      </thead>
      <tbody id="dashboardArtistsTable"></tbody>
    </table>
  </div>
</section>
 <!-- Place la section d'authentification ici, juste apr√®s </nav> -->       
 <section id="authSection" class="card">
   <h2>Connexion / Inscription Artiste
</h2>
   <div id="authForms">
     <form id="loginForm" onsubmit="loginArtist(event)" style="margin-bottom:1rem;">
       <h3>Connexion</h3>
       <input type="text" id="loginName" placeholder="Nom d'artiste" required><br>
       <input type="password" id="loginPass" placeholder="Mot de passe" required><br>
       <button type="submit">Se connecter</button>
     </form>
     <form id="registerForm" onsubmit="registerArtist(event)">
       <h3>Inscription</h3>
<input type="url" id="regAvatar" placeholder="URL de l‚Äôavatar (photo de profil)" style="margin-bottom:0.5em;width:90%;">
       <input type="text" id="regName" placeholder="Nom d'artiste" required><br>
       <input type="email" id="regEmail" placeholder="Email" required><br>  
       <input type="password" id="regPass" placeholder="Mot de passe" required><br>
       <input type="text" id="regBio" placeholder="Bio (optionnel)"><br>
       <select id="regRole" required> 
         <option value="">Choisir un r√¥le</option>
         <option value="artiste">Artiste</option>
         <option value="visiteur">Visiteur</option>
       </select><br>
       <button type="submit">S'inscrire</button>
     </form>
   </div>
   <div id="artistWelcome" style="display:none;"></div>
 </section>
 <section id="marketplaceSection" class="card">
   <h2 data-key="marketplace">Marketplace</h2>
   <div id="marketplaceList"></div>   
 </section>
 <section id="gallerySection" class="card">
   <h2>Galerie des ≈ìuvres</h2>        
  div id="expoContinentList"></div>
</section>
   </div>
   <div id="galleryList"></div>       
   <div style="margin-bottom:1rem;">
  <label for="galleryFilter">Filtrer par cat√©gorie :</label>
  <select id="galleryFilter" onchange="renderGallery()">
    <option value="all">Toutes</option>
    <option value="Peinture">Peinture</option>
    <option value="Sculpture">Sculpture</option>
    <option value="Art num√©rique">Art num√©rique</option>
    <option value="NFT / Peinture num√©rique">NFT / Peinture num√©rique</option>
  </select>
  <label for="artTypeFilter" style="margin-left:2em;">Afficher :</label>
  <select id="artTypeFilter" onchange="renderGallery()">
    <option value="all">Toutes les ≈ìuvres</option>
    <option value="num√©rique">≈íuvres num√©riques</option>
    <option value="physique">≈íuvres physiques</option>
  </select>
</div>
 <section id="cultureSection" class="card">
   <div id="globeContainer" style="width:100%;max-width:700px;height:400px;margin:2rem auto;"></div>
   <div id="cultureInfo"></div>       
   <div id="culturePhrases" style="position:relative;min-height:40px;"></div>
   <div id="artistsByCountry" style="margin-top:2rem;"></div>

   <section class="buttons">
     <a href="https://www.globalartpro.com/" target="_blank">üì± Portail des Arts et tradiions du monde.</a>
   <!-- Histoires & traditions int√©gr√©es ici -->
   <div id="storiesSection">
   <h2>üìö Histoires & traditions</h2> 
   <div id="sharedCultureFormZone"></div>
   <div id="sharedCultureList"></div> 
   <div style="margin-bottom:1rem;">
     <label for="storyRegion">Choisir une r√©gion :</label>
     <select id="storyRegion" onchange= "renderStories()">
       <option value="all">Toutes</option>
       <option value="Afrique">Afrique
</option>
       <option value="Europe">Europe</option>
       <option value="Asie">Asie</option>
       <option value="Am√©riques">Am√©riques</option>
       <option value="Oc√©anie">Oc√©anie</option>
     </select>
     <section id="gapStudioSection" class="card">
   <h2>üé® GAP Studio IA</h2>
   <div id="gapStudioTabs">
    <a href="#" onclick="scrollToSection('gapStudioSection');return false;">GAP Studio</a>
     <button onclick="showGapTab('create')" id="tabCreate" class="active">Cr√©er</button>
     <button onclick="showGapTab('explore')" id="tabExplore">Explorer</button>
     <button onclick="showGapTab('learn')" id="tabLearn">Apprendre</button>
   </div>
   <div id="gapStudioContent"></div>  
  </section>
   </div>
   <div id="storiesList"></div>       
 </div>
 </section>
 <section id="donateSection" class="card">
   <h2>Soutenir l‚ÄôArt et les Artistes üé®‚ú®</h2>
   <p>
     Votre contribution aide √† faire vivre GlobalArtpro, soutenir les artistes du monde entier et d√©velopper notre √©cosyst√®me.<br>
     Vous pouvez faire un don en Pi Coin ou en Art Coin.<br>
     Chaque geste compte et fait grandir la communaut√© artistique mondiale. 
   </p>
   <button onclick="showDonateModal('pi')">Faire un don en Pi Coin</button> 
   <button onclick="showDonateModal('art')">Faire un don en Art Coin</button>
   <div id="donateModal" style="display:none;margin-top:1rem;"></div>       
   <div id="donorWall" style="margin-top:2rem;">
     <h3>Mur des donateurs</h3>       
     <ul id="donorList" style="list-style:none;padding:0;"></ul>
   </div>
 </section>
 <section id="partnersSection" class="card">
  <h2>Partenaires & Collaborations ü§ù</h2>
  <p>
    Nous croyons que l‚Äôart a le pouvoir de rassembler.<br>
    GlobalArtpro s‚Äôouvre aux collaborations avec entreprises, mus√©es, ONG et particuliers passionn√©s par la culture.<br>
    Devenez partenaire et b√©n√©ficiez d‚Äôune visibilit√© unique dans un √©cosyst√®me artistique et innovant.
  </p>
  <div id="partnerLogos" style="display:flex;justify-content:center;gap:2em;margin:2em 0;">
    <div class="partner-anim">
      <img src="https://upload.wikimedia.org/wikipedia/commons/4/44/Googlelogo.png" alt="Google" style="width:80px;">
      <p>Google Arts</p>
    </div>
    <div class="partner-anim">
      <img src="https://upload.wikimedia.org/wikipedia/commons/6/6a/Microsoft_logo.png" alt="Microsoft" style="width:80px;">
      <p>Microsoft Culture</p>
    </div>
    <div class="partner-anim">
      <img src="https://upload.wikimedia.org/wikipedia/commons/0/0c/UNESCO_logo.svg" alt="UNESCO" style="width:80px;">
      <p>UNESCO</p>
    </div>
  </div>
  <button onclick="document.getElementById('partnerForm').style.display='block'">Devenir partenaire</button>
  <div id="partnerForm" style="display:none;margin-top:1rem;">
    <h3>Formulaire de partenariat</h3>
    <form id="partnerRegisterForm" onsubmit="registerPartner(event)">
      <input type="text" id="partnerUsername" placeholder="Nom d'utilisateur" required style="margin-bottom:0.5em;width:90%;"><br>
      <input type="text" id="partnerFullName" placeholder="Nom complet" required style="margin-bottom:0.5em;width:90%;"><br>
      <input type="email" id="partnerEmail" placeholder="Email" required style="margin-bottom:0.5em;width:90%;"><br>
      <input type="password" id="partnerPassword" placeholder="Mot de passe" required style="margin-bottom:0.5em;width:90%;"><br>
      <button type="submit">S'enregistrer</button>
      <button type="button" onclick="document.getElementById('partnerForm').style.display='none'">Annuler</button>
    </form>
    <div id="partnerSuccess" style="color:gold;margin-top:1em;"></div>
  </div>
</section>
<section id="howMiningWorks" class="card" style="max-width:500px;margin:2em auto;">
  <h2 style="color:gold;">Comment √ßa marche‚ÄØ?</h2>
  <div style="display:flex;flex-direction:column;align-items:center;gap:1.2em;">
    <div style="display:flex;align-items:center;gap:1em;">
      <span style="font-size:2em;">‚ö°</span>
      <div>
        <strong>√ânergie</strong><br>
        <span style="color:#eee;">Chaque action sur la plateforme g√©n√®re de l‚Äô√©nergie pour le minage.</span>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:1em;">
      <span style="font-size:2em;">üé®</span>
      <div>
        <strong>Art</strong><br>
        <span style="color:#eee;">En minant, tu soutiens directement les artistes et la cr√©ation culturelle.</span>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:1em;">
      <span style="font-size:2em;">üí∞</span>
      <div>
        <strong>R√©compense</strong><br>
        <span style="color:#eee;">Tu gagnes des Art Coin (ARTC) √† chaque session de minage.</span>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:1em;">
      <span style="font-size:2em;">üõ°Ô∏è</span>
      <div>
        <strong>S√©curit√©</strong><br>
        <span style="color:#eee;">Le minage est 100‚ÄØ% s√©curis√©, sans impact sur ton appareil.</span>
      </div>
    </div>
    <div style="display:flex;align-items:center;gap:1em;">
      <span style="font-size:2em;">ü§ù</span>
      <div>
        <strong>Solidarit√©</strong><br>
        <span style="color:#eee;">Chaque ARTC min√© aide la communaut√© artistique mondiale.</span>
      </div>
    </div>
  </div>
  <div style="margin-top:1.5em;">
    <em style="color:#ffd700;font-size:1.1em;">
      Le but‚ÄØ: rendre l‚Äôart accessible, soutenir les cr√©ateurs et b√¢tir un r√©seau solidaire.
    </em>
  </div>
</section>
<section id="miningSection" class="card">
  <h2>‚õèÔ∏è Minage Art Coin (ARTC)</h2>
  <p style="font-size:1.15em;color:#ffd700;">
    En minant, tu soutiens la cr√©ation artistique, la m√©moire culturelle et la communaut√© mondiale des artistes.<br>
    Chaque Art Coin min√© est une pierre √† l‚Äô√©difice de l‚Äôart universel.
  </p>
  <div id="miningStatus" style="margin:1em 0;">
    <strong>Ton solde Art Coin :</strong> <span id="artCoinBalance" style="color:gold;">0</span>
  </div>
  <div id="miningSymbols" style="margin-bottom:1em;display:flex;justify-content:center;gap:1.5em;">
  <span class="symbol-anim">üñåÔ∏è</span>
  <span class="symbol-anim">üé∏</span>
  <span class="symbol-anim">ü™ò</span>
  <span class="symbol-anim">üåÄ</span>
  <span class="symbol-anim">üåç</span>
</div>
<div id="miningPhrase" style="color:#ffd700;font-size:1.15em;margin-bottom:1em;"></div>
  <div id="miningAura"></div>
  <button onclick="mineArtCoin()" class="btn-stroke" style="font-size:1.2em;margin-bottom:1em;">
    üéâ Miner un Art Coin et soutenir les artistes !
  </button>
  <div id="miningResult" style="margin-top:1em;color:#ffd700;font-size:1.1em;"></div>
  <div style="margin-top:2em;">
    <h4>Comment gagner des Art Coin ?</h4>
    <ul style="text-align:left;max-width:500px;margin:0 auto;">
      <li>‚úÖ Valider une ≈ìuvre ou un artiste</li>
      <li>üìö Partager une histoire ou une tradition</li>
      <li>üé≤ Participer √† un challenge cr√©atif</li>
      <li>ü§ù Inviter un nouveau membre</li>
    </ul>
  </div>
  <section id="miningSection" class="card" style="max-width:500px;margin:2em auto;">
  <!-- Header -->
  <div style="text-align:center;margin-bottom:1.2em;">
    <img src="image/logo globalartpro.jpeg" alt="Logo GlobalArtPro" style="width:70px;height:70px;border-radius:50%;box-shadow:0 2px 8px #0003;">
    <h2 style="color:gold;margin:0.5em 0 0 0;">Minage ARTC ‚Äì Soutenez la cr√©ation artistique mondiale</h2>
  </div>
  <!-- Solde / gains -->
  <div style="font-size:1.2em;margin-bottom:1em;">
    <span style="color:#ffd700;">üí∞ Votre balance :</span>
    <span id="artCoinBalance" style="font-weight:bold;color:#ffd700;">0</span> ARTC
    <span style="margin-left:1em;color:#eee;font-size:0.95em;">R√©compense du jour : +1 ARTC</span>
  </div>
  <!-- Bouton principal -->
  <div style="margin-bottom:1.5em;">
    <button onclick="mineArtCoin()" class="btn-stroke" style="font-size:1.3em;padding:1.2em 2.5em;">
      ‚õèÔ∏è Commencer le minage
    </button>
    <div id="miningResult" style="margin-top:1em;color:#ffd700;font-size:1.1em;"></div>
  </div>
  <!-- Progression / √©nergie -->
  <div style="margin-bottom:1.5em;">
    <div id="energyBar" style="width:100%;height:18px;background:rgba(255,255,255,0.13);border-radius:12px;overflow:hidden;">
      <div id="energyFill" style="height:100%;width:0%;background:linear-gradient(90deg,#ffd700,#6a11cb);border-radius:12px;transition:width 0.7s;"></div>
    </div>
    <div style="font-size:0.95em;color:#eee;margin-top:0.3em;">√ânergie de minage : <span id="energyPercent">0%</span></div>
  </div>
  <!-- Impact culturel -->
  <div style="margin-bottom:1.5em;">
    <span style="color:#ffd700;">üé® Votre minage aide <span id="artistsHelped">0</span> artistes √† exposer sur GlobalArtPro</span>
  </div>
  <!-- Infos techniques / IA -->
  <div style="margin-bottom:1.5em;">
    <span style="color:#ffd700;">üß† Hash Power communautaire :</span>
    <span id="hashPower" style="font-weight:bold;color:#ffd700;">125 kH/s</span>
    <span style="color:#eee;font-size:0.95em;">(IA optimise la r√©partition des gains)</span>
  </div>
  <!-- Section communaut√© -->
  <div style="margin-bottom:1em;">
    <span style="color:#ffd700;">üí¨ +<span id="minersCount">5243</span> utilisateurs minent actuellement ARTC</span>
    <br>
    <span style="color:#eee;font-size:0.95em;">Leaderboard : <span id="topMiner">Awa Diop</span> (balance : 320 ARTC)</span>
  </div>
</section>
  <footer>
    &copy; 2024 GlobalArtPro - Tous droits r√©serv√©s | <a href="#privacy" style="color:#ffd700;">Politique de confidentialit√©</a> | <a href="#terms" style="color:#ffd700;">Conditions d'utilisation</a>
  </footer>
 <script>
  let artworks = [];
  artworks = [
  {
    id: 1,
    title: { fr: "Masque digital" },
    artist: { name: "Awa Diop", profile: "#" },
    year: "2024",
    type: "num√©rique",
    image: "https://picsum.photos/id/1011/300/200"
  },
  {
    id: 2,
    title: { fr: "NFT Paris" },
    artist: { name: "Lucas Martin", profile: "#" },
    year: "2023",
    type: "num√©rique",
    image: "https://picsum.photos/id/1013/300/200"
  },
  {
    id: 3,
    title: { fr: "Calligraphie IA" },
    artist: { name: "Mei Lin", profile: "#" },
    year: "2025",
    type: "num√©rique",
    image: "https://picsum.photos/id/1015/300/200"
  },
  {
    id: 4,
    title: { fr: "Sculpture bois" },
    artist: { name: "Awa Diop", profile: "#" },
    year: "2022",
    type: "physique",
    image: "https://picsum.photos/id/1012/300/200"
  },
  {
    id: 5,
    title: { fr: "Tableau abstrait" },
    artist: { name: "Lucas Martin", profile: "#" },
    year: "2021",
    type: "physique",
    image: "https://picsum.photos/id/1014/300/200"
  },
  {
    id: 6,
    title: { fr: "Encre sur papier" },
    artist: { name: "Mei Lin", profile: "#" },
    year: "2023",
    type: "physique",
    image: "https://picsum.photos/id/1016/300/200"
  }
];
  let artists = [];
  let reactionsData = {};
  let commentsData = {};
  let artistesParContinent = [
  {
    continent: "Afrique",
    name: "Awa Diop",
    bio: "Artiste s√©n√©galaise, entre tradition et num√©rique.",
    avatar: "https://ui-avatars.com/api/?name=Awa+Diop",
    oeuvres: [
      { type: "num√©rique", titre: "Masque digital", image: "https://picsum.photos/id/1011/200/200" },
      { type: "physique", titre: "Sculpture bois", image: "https://picsum.photos/id/1012/200/200" }
    ]
  },
  {
    continent: "Europe",
    name: "Lucas Martin",
    bio: "Peintre fran√ßais, passionn√© par l‚Äôart digital.",
    avatar: "https://ui-avatars.com/api/?name=Lucas+Martin",
    oeuvres: [
      { type: "num√©rique", titre: "NFT Paris", image: "https://picsum.photos/id/1013/200/200" },
      { type: "physique", titre: "Tableau abstrait", image: "https://picsum.photos/id/1014/200/200" }
    ]
  },
  {
    continent: "Asie",
    name: "Mei Lin",
    bio: "Cr√©atrice chinoise, fusionne calligraphie et IA.",
    avatar: "https://ui-avatars.com/api/?name=Mei+Lin",
    oeuvres: [
      { type: "num√©rique", titre: "Calligraphie IA", image: "https://picsum.photos/id/1015/200/200" },
      { type: "physique", titre: "Encre sur papier", image: "https://picsum.photos/id/1016/200/200" }
    ]
  },
  {
    continent: "Am√©riques",
    name: "Carlos Ruiz",
    bio: "Artiste p√©ruvien, entre tradition et modernit√©.",
    avatar: "https://ui-avatars.com/api/?name=Carlos+Ruiz",
    oeuvres: [
      { type: "num√©rique", titre: "Montagne NFT", image: "https://picsum.photos/id/1017/200/200" },
      { type: "physique", titre: "Statue Inca", image: "https://picsum.photos/id/1018/200/200" }
    ]
  },
  {
    continent: "Oc√©anie",
    name: "Mia Tane",
    bio: "Artiste Maori, explore l‚Äôart digital et tribal.",
    avatar: "https://ui-avatars.com/api/?name=Mia+Tane",
    oeuvres: [
      { type: "num√©rique", titre: "Totem digital", image: "https://picsum.photos/id/1019/200/200" },
      { type: "physique", titre: "Gravure sur bois", image: "https://picsum.photos/id/1020/200/200" }
    ]
  }
];
    
const continentsData = [
  {
    name: "Afrique",
    color: "#2ecc40",
    pays: ["S√©n√©gal", "C√¥te d'Ivoire", "Maroc", "Nigeria", "Afrique du Sud"]
  },
  {
    name: "Europe",
    color: "#2980b9",
    pays: ["France", "Allemagne", "Italie", "Espagne", "Royaume-Uni"]
  },
  {
    name: "Asie",
    color: "#e74c3c",
    pays: ["Chine", "Japon", "Inde", "Cor√©e du Sud", "Tha√Ølande"]
  },
  {
    name: "Am√©riques",
    color: "#f39c12",
    pays: ["Br√©sil", "√âtats-Unis", "Canada", "Mexique", "P√©rou"]
  },
  {
    name: "Oc√©anie",
    color: "#9b59b6",
    pays: ["Australie", "Nouvelle-Z√©lande", "Fidji", "Papouasie-Nouvelle-Guin√©e", "Samoa"]
  }
];
 artists = [];
continentsData.forEach(continent => {
  continent.pays.forEach((pays, i) => {
    artists.push({
      id: artists.length + 1,
      name: `Artiste ${pays}`,
      pays: pays,
      continent: continent.name,
      bio: `Artiste du pays ${pays} en ${continent.name}`,
      avatar: `https://ui-avatars.com/api/?name=Artiste+${encodeURIComponent(pays)}`,
      artworks: []
    });
  });
});
</script>
<script>
function fillCountrySelect(selectId) {
  const select = document.getElementById(selectId);
  select.innerHTML = ""; // Vide le select
  continentsData.forEach(continent => {
    // Groupe de pays par continent
    const optgroup = document.createElement("optgroup");
    optgroup.label = continent.name;
    continent.pays.forEach(pays => {
      const option = document.createElement("option");
      option.value = pays;
      option.textContent = pays;
      optgroup.appendChild(option);
    });
    select.appendChild(optgroup);
  });
}  
 </script>
 <script>
 // Affiche la fiche d√©taill√©e d'une ≈ìuvre
 function showArtworkDetail(artId) {
   const art = artworks.find(a => a.id === artId);
   if (!art) return;
   const html = `
     <img src="${art.image}" alt="${art.title.fr}" style="width:180px;height:180px;object-fit:cover;border-radius:12px;float:right;margin-left:1rem;">  
     <h3>${art.title.fr}</h3>
   <p><strong>Artiste :</strong> <a href="#" onclick="window.showArtistProfile(${art.id});return false;" style="color:gold;">${art.artist.name}</a></p> 
     <p><strong>Ann√©e :</strong> ${art.year}</p>
     <p><strong>Type :</strong> ${art.type}</p>
     <p><strong>Dimensions :</strong> ${art.dimensions}</p>
     <p><strong>Technique :</strong> ${art.technique.fr}</p>
     <p><strong>Inspiration :</strong> <em>${art.inspiration.fr}</em></p>   
     <p><strong>‚Äú${art.quote.fr}‚Äù</strong></p>
     <p><strong>Authenticit√© :</strong> ${art.authenticity}</p>
     <p><strong>√âdition :</strong> ${art.edition}</p>
     <p><strong>Provenance :</strong> ${art.provenance}</p>
     <p><strong>Statut :</strong> ${art.status.fr}</p>
     <p><strong>Prix :</strong> ${art.price} Pi (~$${art.priceUSD})</p>     
     <p><strong>Mode de vente :</strong> ${art.saleMode.fr}</p>
     <div style="clear:both"></div>   
     <div style="margin-top:1rem;">   
       <button onclick="addReaction(${art.id}, 'like')">üëç</button>
       <button onclick="addReaction(${art.id}, 'love')">‚ù§Ô∏è</button>
       <button onclick="addReaction(${art.id}, 'bravo')">üëè</button>        
       <button onclick="addReaction(${art.id}, 'inspire')">üé®</button>      
       <span id="reactions-detail-${art.id}"></span>
     </div>
     <div style="margin-top:1rem;">
       <input type="text" id="comment-detail-input-${art.id}" placeholder="Laisser un commentaire..." style="width:70%;">
       <button onclick="addDetailComment(${art.id})">üí¨</button>
       <ul id="comments-detail-${art.id}" style="list-style:none;padding:0;margin:0.5rem 0 0 0;"></ul>
     </div>
   `;
   document.getElementById("artworkDetail").innerHTML = html;
   document.getElementById("artworkDetailSection").style.display = "block"; 
   renderDetailReactions(artId);
   renderDetailComments(artId);       
 }
 
 // R√©actions et commentaires pour la fiche d√©taill√©e
 function renderDetailReactions(artId) {
   const r = reactionsData[artId] || {like:0, love:0, bravo:0, inspire:0};
   document.getElementById(`reactions-detail-${artId}`).innerHTML =  `üëç ${r.like} ‚ù§Ô∏è ${r.love} üëè ${r.bravo} üé® ${r.inspire}`;
   }
 function addDetailComment(artId) {   
   const input = document.getElementById(`comment-detail-input-${artId}`);
   const val = input.value.trim();
   if (!val) return;
   if (!commentsData[artId]) commentsData[artId] = [];
   commentsData[artId].push({text: val, date: new Date().toLocaleString()});
   input.value = "";
   renderDetailComments(artId);
 }
 function renderDetailComments(artId) {
   const ul = document.getElementById(`comments-detail-${artId}`);
   const list = commentsData[artId] ||
 [];
   ul.innerHTML = list.map(c =>
     `<li style="background:rgba(255,255,255,0.07);margin:0.2rem 0;padding:0.3rem;border-radius:6px;">
       <span>${c.text}</span>
       <span style="float:right;font-s
ize:0.8em;color:#ccc;">${c.date}</span>
     </li>`
   ).join('');
 }
 function renderArtistsByContinent() {
  let html = "<h3>Artistes par continent</h3>";
  continentsData.forEach(continent => {
    html += `<div style="background:${continent.color};color:#fff;padding:1em;margin-bottom:1em;border-radius:10px;">
      <h4>${continent.name}</h4>
      <ul style="columns:2;">`;
    artists.filter(a => a.continent === continent.name).forEach(a => {
      html += `<li><strong>${a.name}</strong> (${a.pays})</li>`;
    });
    html += "</ul></div>";
  });
  document.getElementById("expoContinentList").innerHTML = html;
}
 function showArtistProfile(artId) {  
   // On cherche l'artiste qui poss√®de cette ≈ìuvre
   const artist = artists.find(a => a.artworks.includes(artId));
   if (!artist) return;
   // Galerie des ≈ìuvres (miniatures cliquables)
   const gallery = artist.artworks.map(id => {
     const art = artworks.find(a => a.id === id);
     if (!art) return "";
     return `
       <div style="display:inline-block;margin:0.5rem;">
         <img src="${art.image}" alt="${art.title.fr}" style="width:90px;height:90px;object-fit:cover;border-radius:8px;box-shadow:0 2px 8px #0002;">   
         <br>
         <a href="#" onclick="window.showArtworkDetail(${art.id});return false;" style="color:gold;text-decoration:none;font-size:0.95em;">${art.title.fr}</a>
       </div>
     `;
   }).join('');
   const html = `
  <img src="${artist.avatar || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(artist.name)}"
       alt="${artist.name}"
       style="width:100px;height:100px;border-radius:50%;box-shadow:0 2px 8px #0003;margin-bottom:1rem;">
  <h3>${artist.name}</h3>
  <p>${artist.bio || ""}</p>
  ${artist.website ? `<p><a href="${artist.website}" target="_blank">Site web</a></p>` : ""}
  ${artist.socials.instagram ? `<a href="${artist.socials.instagram}" target="_blank">Instagram</a> ` : ""}
  ${artist.socials.twitter ? `<a href="${artist.socials.twitter}" target="_blank">Twitter</a>` : ""}
  <h4>Galerie</h4>
  <div style="text-align:center;">
    ${gallery || "<em>Aucune ≈ìuvre en ligne.</em>"}
  </div>
  <div style="clear:both"></div>
`;
   document.getElementById("artistProfile").innerHTML = html;
   document.getElementById("artistProfileSection").style.display = "block";
 }
 window.showArtistProfile = showArtistProfile;
 window.showArtworkDetail = showArtworkDetail;
 </script>
 <script>
 // Stockage local pour la d√©mo       
 let registeredArtists = JSON.parse(localStorage.getItem("registeredArtists") || "[]");
 let currentArtist = JSON.parse(localStorage.getItem("currentArtist") || "null");
 
 function registerArtist(e) {
   e.preventDefault();
   const name = document.getElementById("regName").value.trim();
   const email = document.getElementById("regEmail").value.trim();
   const pass = document.getElementById("regPass").value;
   const bio = document.getElementById("regBio").value.trim();
   const role = document.getElementById("regRole").value;
   const avatar = document.getElementById("regAvatar").value.trim();
   if (registeredArtists.find(a => a.name === name)) {
     alert("Ce nom d'artiste existe d√©j√† !");
     return;
   }
   if (registeredArtists.find(a => a.email === email)) {
     alert("Cet email est d√©j√† utilis√© !");
     return;
   }
   const artist = { name, email, pass, bio, role };
   registeredArtists.push(artist);    
   localStorage.setItem("registeredArtists", JSON.stringify(registeredArtists));
   alert("Inscription r√©ussie ! Vous pouvez maintenant vous connecter.");
   document.getElementById("registerForm").reset();
 }
 
 function loginArtist(e) {
   e.preventDefault();
   const name = document.getElementById("loginName").value.trim();
   const pass = document.getElementById("loginPass").value;
   const artist = registeredArtists.find(a => a.name === name && a.pass === pass);
   if (!artist) {
     alert("Nom ou mot de passe incorrect !");
     return;
   }
   currentArtist = artist;
   localStorage.setItem("currentArtist", JSON.stringify(currentArtist));    
   showArtistWelcome();
 }
 
 function showArtistWelcome() {       
   document.getElementById("authForms").style.display = "none";
   document.getElementById("artistWelcome").style.display = "block";        
  document.getElementById("artistWelcome").innerHTML = `
     <img src="${currentArtist.avatar || 'https://ui-avatars.com/api/?name=' + encodeURIComponent(currentArtist.name)}"
       alt="Avatar"
       style="width:80px;height:80px;border-radius:50%;box-shadow:0 2px 8px #0003;margin-bottom:1rem;">
     <h3>Bienvenue, ${currentArtist.name} !</h3> 
     <p>R√¥le : <strong>${currentArtist.role}</strong></p>
     <p>${currentArtist.bio || ""}</p>
     <button onclick="logoutArtist()">Se d√©connecter</button>
     <hr>
     <h4>Ajouter une ≈ìuvre</h4>       
     <form id="addArtworkForm" onsubmit="addArtwork(event)">
       <input type="text" id="artTitle" placeholder="Titre de l'≈ìuvre" required><br>
       <input type="text" id="artType" placeholder="Type (ex: Peinture, NFT...)" required><br>
       <input type="number" id="artYear" placeholder="Ann√©e" required value=""><br>
       <input type="text" id="artImage" placeholder="URL de l'image" required><br>
       <button type="submit">Ajouter</button>
     </form>
     <div id="myArtworks"></div> 
         
   `;
 }
  
 function logoutArtist() {
   currentArtist = null;
   localStorage.removeItem("currentArtist");
   document.getElementById("artistWelcome").style.display = "none";
   document.getElementById("authForms").style.display = "block";
 }
 
 // Affiche l'accueil si d√©j√† connect√©
 if (currentArtist) showArtistWelcome();
 function addArtwork(e) {
   e.preventDefault();
   const title = document.getElementById("artTitle").value.trim();
   const type = document.getElementById("artType").value.trim();
   const year = document.getElementById("artYear").value.trim();
   const image = document.getElementById("artImage").value.trim();
   // G√©n√®re un nouvel ID unique      
   const newId = artworks.length ? Math.max(...artworks.map(a => a.id)) + 1 : 1;
   // Ajoute l‚Äô≈ìuvre √† la liste globale
   artworks.push({
     id: newId,
     title: { fr: title },
     artist: { name: currentArtist.name, profile: "#" },
     year: year,
     type: type,
     dimensions: "",
     technique: { fr: "" },
     inspiration: { fr: "" },
     quote: { fr: "" },
     authenticity: "",
     edition: "",
     provenance: "",
     status: { fr: "Disponible" },    
     price: 0,
     priceUSD: 0,
     saleMode: { fr: "" },
     lastBid: null,
     views: 0,
     favorites: 0,
     comments: 0,
     image: image
   });
   // Ajoute l‚ÄôID de l‚Äô≈ìuvre √† l‚Äôartiste courant (en m√©moire)
   let artistObj = artists.find(a => a.name === currentArtist.name);        
   if (artistObj) {
     artistObj.artworks.push(newId);  
   } else {
     // Si l'artiste n'existe pas encore dans artists, on l'ajoute
     artists.push({
       id: artists.length ? Math.max(...artists.map(a => a.id)) + 1 : 1,    
       name: currentArtist.name,      
       bio: currentArtist.bio,        
       avatar: "",
       website: "",
       socials: {},
       artworks: [newId]
     });
   }
   document.getElementById("addArtworkForm").reset();
   renderMyArtworks();
   renderMarketplace(document.getElementById("langSwitcher").value);        
 }
  </script>
  <script>
  function renderMyArtworks() {
  if (!currentArtist) {
    document.getElementById("myArtworks").innerHTML = "<p>Connectez-vous pour voir vos ≈ìuvres.</p>";
    return;
  }
  let artistObj = artists.find(a => a.name === currentArtist.name);
  if (!artistObj || !artistObj.artworks.length) {
    document.getElementById("myArtworks").innerHTML = "<p>Aucune ≈ìuvre ajout√©e.</p>";
    return;
  }

  // G√©n√®re le HTML de la liste des ≈ìuvres
  let html = "<ul>";
  html += artistObj.artworks.map(id => {
    const art = artworks.find(a => a.id === id);
    if (!art) return "";
    return `<li>
      <strong>${art.title.fr}</strong> (${art.year}) 
      <button onclick="editArtwork(${art.id})">Modifier</button>       
      <button onclick="deleteArtwork(${art.id})" style="color:red;">Supprimer</button>
    </li>`;
  }).join('');
  html += "</ul>";
  html += `<div id="editArtworkZone"></div>`;
  document.getElementById("myArtworks").innerHTML = html;
}
 
 function deleteArtwork(artId) {      
   if (!confirm("Supprimer cette ≈ìuvre ?")) return;
   // Retire l‚Äô≈ìuvre du tableau artworks
   const idx = artworks.findIndex(a => a.id === artId);
   if (idx !== -1) artworks.splice(idx, 1);
   // Retire l‚ÄôID de l‚Äô≈ìuvre de l‚Äôartiste
   let artistObj = artists.find(a => a.name === currentArtist.name);
   if (artistObj) {
     artistObj.artworks = artistObj.artworks.filter(id => id !== artId);
   }
  renderMyArtworks();
   renderMarketplace(document.getElementById("langSwitcher").value);        
 }
 </script>
 <script>
 // Affiche la section admin quand on clique sur "Admin"
   document.getElementById("btnAdmin").onclick = function() {
   document.getElementById("adminSection").style.display = "block";
   renderAdmin();
   window.scrollTo(0, document.body.scrollHeight);
 };
 
 // Rendu du back-office admin        
 function renderAdmin() {
   // Liste des artistes
   let htmlArtists = "<h3>Comptes artistes</h3><ul>";
   registeredArtists.forEach((a, i) => {
     htmlArtists += `<li>
       <strong>${a.name}</strong> (${a.email}) - R√¥le: ${a.role}
       <button onclick="validateArtist(${i})">Valider</button>
       <button onclick="deleteArtist(${i})" style="color:red;">Supprimer</button>
     </li>`;
   });
   htmlArtists += "</ul>";
   document.getElementById("adminArtists").innerHTML = htmlArtists;
 
   // Liste des ≈ìuvres
   let htmlArtworks = "<h3>≈íuvres en ligne</h3><ul>";
   artworks.forEach((art, i) => {     
     htmlArtworks += `<li>
       <strong>${art.title.fr}</strong> par ${art.artist.name} (${art.year})
       <button onclick="deleteArtworkAdmin(${art.id})" style="color:red;">Supprimer</button>
     </li>`;
   });
   htmlArtworks += "</ul>";
   document.getElementById("adminArtworks").innerHTML = htmlArtworks;       
 }
 
 // Valider un artiste (exemple‚ÄØ: on ajoute un champ valid√©)
 function validateArtist(index) {     
   registeredArtists[index].validated = true;
   localStorage.setItem("registeredArtists", JSON.stringify(registeredArtists));
   alert("Artiste valid√© !");
   renderAdmin();
 }
 
 // Supprimer un compte artiste       
 function deleteArtist(index) {       
   if (!confirm("Supprimer ce compte artiste ?")) return;
   // Supprime aussi ses ≈ìuvres       
   const artistName = registeredArtists[index].name;
   let artistObj = artists.find(a => a.name === artistName);
   if (artistObj) {
     artistObj.artworks.forEach(id => {
       const idx = artworks.findIndex(a => a.id === id);
       if (idx !== -1) artworks.splice(idx, 1);
     });
     // Supprime l'artiste du tableau artists
     artists.splice(artists.indexOf(artistObj), 1);
   }
   registeredArtists.splice(index, 1);
   localStorage.setItem("registeredArtists", JSON.stringify(registeredArtists));
   renderAdmin();
   renderMarketplace(document.getElementById("langSwitcher").value);        
 }
 
 // Supprimer une ≈ìuvre (admin)       
 function deleteArtworkAdmin(artId) { 
   if (!confirm("Supprimer cette ≈ìuvre ?")) return;
   const idx = artworks.findIndex(a => a.id === artId);
   if (idx !== -1) artworks.splice(idx, 1);
   // Retire l‚ÄôID de l‚Äô≈ìuvre de l‚Äôartiste
   artists.forEach(artist => {        
     artist.artworks = artist.artworks.filter(id => id !== artId);
   });
   renderAdmin();
   renderMarketplace(document.getElementById("langSwitcher").value);        
 }
 </script>
 <script>
 function scrollToSection(id) {       
   const el = document.getElementById(id);
   if (el) el.scrollIntoView({behavior: "smooth"});
 }
 </script>
 <script>
function showArtworkComments(artId) {
  // Affiche un popup ou une zone sous l‚Äô≈ìuvre pour commenter
  alert("Commentaires pour l‚Äô≈ìuvre #" + artId);
}

function renderGallery() {
  const filterCat = document.getElementById("galleryFilter").value;
  const filterType = document.getElementById("artTypeFilter").value;
  let filtered = artworks;

  if (filterCat !== "all") {
    filtered = filtered.filter(a => a.type === filterCat);
  }
  if (filterType !== "all") {
    filtered = filtered.filter(a => a.type.toLowerCase().includes(filterType));
  }
  document.getElementById("galleryList").innerHTML = filtered.length ? filtered.map(art => `
    <div style="display:inline-block;margin:1rem;padding:1rem;background:rgba(255,255,255,0.08);border-radius:12px;max-width:260px;vertical-align:top;">
      <img src="${art.image}" alt="${art.title.fr}" style="width:100%;height:140px;object-fit:cover;border-radius:8px;">
      <h4 style="margin:0.5rem 0 0 0;">${art.title.fr}</h4>
      <p style="margin:0.2rem 0 0.5rem 0;font-size:0.95em;color:#ffd700;"><strong>${art.artist.name}</strong></p>
      <p style="font-size:0.95em;">${art.type} ¬∑ ${art.year}</p>
      <div style="margin-top:0.7em;">
        <button onclick="addReaction(${art.id}, 'like')" title="J‚Äôaime">üëç</button>
        <button onclick="addReaction(${art.id}, 'bravo')" title="Bravo">üëè</button>
        <button onclick="showArtworkComments(${art.id})" title="Commenter">üí¨</button>
        <button onclick="showDonateModal('pi')" title="Faire un don">üí∞</button>
      </div>
      <button onclick="window.showArtworkDetail(${art.id})" style="margin-top:0.5rem;">Voir d√©tail</button>
    </div>
  `).join('') : "<p>Aucune ≈ìuvre trouv√©e pour ce filtre.</p>";
}

// Appelle la fonction une fois au chargement
renderGallery();
</script>
<script>
function renderPublicGallery() {
  // S√©lectionne 3 ≈ìuvres num√©riques et 3 physiques
  const numerique = artworks.filter(a => a.type && a.type.toLowerCase().includes("num√©rique")).slice(0, 3);
  const physique = artworks.filter(a => a.type && (
    a.type.toLowerCase().includes("physique") ||
    a.type.toLowerCase().includes("peinture") ||
    a.type.toLowerCase().includes("sculpture")
  )).slice(0, 3);

  let html = "<h3>≈íuvres num√©riques</h3><div style='display:flex;gap:2em;justify-content:center;flex-wrap:wrap;'>";
  html += numerique.length ? numerique.map(art => `
    <div style="background:rgba(255,255,255,0.08);border-radius:12px;padding:1em;max-width:220px;">
      <img src="${art.image}" alt="${art.title.fr}" style="width:100%;height:120px;object-fit:cover;border-radius:8px;">
      <h4 style="color:gold;margin:0.5em 0 0 0;">${art.title.fr}</h4>
      <p style="font-size:0.95em;">${art.artist.name} ¬∑ ${art.year}</p>
    </div>
  `).join('') : "<p>Aucune ≈ìuvre num√©rique disponible.</p>";
  html += "</div>";
  html += "<h3 style='margin-top:2em;'>≈íuvres physiques</h3><div style='display:flex;gap:2em;justify-content:center;flex-wrap:wrap;'>";
  html += physique.length ? physique.map(art => `
    <div style="background:rgba(255,255,255,0.08);border-radius:12px;padding:1em;max-width:220px;">
      <img src="${art.image}" alt="${art.title.fr}" style="width:100%;height:120px;object-fit:cover;border-radius:8px;">
      <h4 style="color:gold;margin:0.5em 0 0 0;">${art.title.fr}</h4>
      <p style="font-size:0.95em;">${art.artist.name} ¬∑ ${art.year}</p>
    </div>
  `).join('') : "<p>Aucune ≈ìuvre physique disponible.</p>";
  html += "</div>";

  document.getElementById("galleryList").innerHTML = html;
}
renderPublicGallery();
 </script>
 <script>
 function showCulture(region) {       
   const infos = {
     "Afrique": "<h3>Afrique</h3><p>D√©couvrez la richesse des cultures africaines, de l‚Äôart ancestral aux cr√©ations contemporaines.</p>",
     "Europe": "<h3>Europe</h3><p>Un patrimoine artistique et architectural unique, berceau de nombreux mouvements culturels.</p>",
     "Asie": "<h3>Asie</h3><p>Des traditions mill√©naires, une diversit√© d‚Äôexpressions artistiques et spirituelles fascinantes.</p>",
     "Am√©riques": "<h3>Am√©riques</h3><p>Un m√©lange vibrant de cultures autochtones, africaines, europ√©ennes et modernes.</p>",
     "Oc√©anie": "<h3>Oc√©anie</h3><p>Des arts aborig√®nes aux influences polyn√©siennes, une cr√©ativit√© insulaire √† d√©couvrir.</p>"
   };
   document.getElementById("cultureInfo").innerHTML = infos[region] || "<p>R√©gion non trouv√©e.</p>";
 }
 </script>
 <script>
 const svgRegions = {
   afrique: "Afrique",
   europe: "Europe",
   asie: "Asie",
   ameriques: "Am√©riques",
   oceanie: "Oc√©anie"
 };
 
 const tooltip = document.getElementById("cultureTooltip");
 
 Object.keys(svgRegions).forEach(id => {
   const el = document.getElementById(id);
   if (el) {
     el.addEventListener("mouseenter", e => {
       el.style.opacity = "0.7";      
       el.style.filter = "drop-shadow(0 0 8px #ffd700)";
       tooltip.textContent = svgRegions[id];
       tooltip.style.display = "block";
     });
     el.addEventListener("mousemove", e => {
       tooltip.style.left = (e.pageX + 15) + "px";
       tooltip.style.top = (e.pageY - 10) + "px";
     });
     el.addEventListener("mouseleave", () => {
       el.style.opacity = "1";        
       el.style.filter = "";
       tooltip.style.display = "none";
     });
     el.addEventListener("click", () => {
       showCulture(svgRegions[id]);   
     });
   }
 });
 </script>
 <script>
   // Regroupe les artistes par pays  
   function renderArtistsByCountry(selectedCountry = null) {
  const byCountry = {};
  artists.forEach(a => {
    const pays = a.Pays || a.pays;
    if (!byCountry[pays]) byCountry[pays] = [];
    byCountry[pays].push(a);
  });

  let html = "<h3>üé® Artistes par pays</h3>";
  html += "<ul style='columns:2;max-width:600px;margin:0 auto;text-align:left;'>";
  Object.keys(byCountry).sort().forEach(pays => {
    if (selectedCountry && pays !== selectedCountry) return;
    html += `<li>
      <a href="#" onclick="renderArtistsByCountry('${pays}');return false;" style="color:#ffd700;text-decoration:underline;cursor:pointer;">
        <strong>${pays}</strong>
      </a> : `;
    html += byCountry[pays].map(a => `<span style="color:gold;">${a.name}</span>`).join(", ");
    html += "</li>";
  });
  html += "</ul>";
  if (selectedCountry) {
    html += `<button onclick="renderArtistsByCountry()" style="margin-bottom:1em;">Tous les pays</button>`;
  }
  document.getElementById("artistsByCountry").innerHTML = html;
}
 </script>
 <script>
 const stories = [
   {
     region: "Afrique",
     title: "Le Lion et le Li√®vre",   
     content: "Une l√©gende populaire d‚ÄôAfrique de l‚ÄôOuest o√π le li√®vre, rus√©, d√©joue la force du lion gr√¢ce √† son intelligence."
   },
   {
     region: "Europe",
     title: "La Dame Blanche",        
     content: "Une histoire de fant√¥me pr√©sente dans de nombreux pays d‚ÄôEurope, symbole de myst√®re et de traditions locales."
   },
   {
     region: "Asie",
     title: "La L√©gende du Dragon",   
     content: "En Chine, le dragon est un symbole de puissance et de chance, c√©l√©br√© lors de nombreuses f√™tes traditionnelles."
   },
   {
     region: "Am√©riques",
     title: "Le Colibri messager",
     content: "Chez les peuples d‚ÄôAm√©rique du Sud, le colibri est porteur de messages entre les mondes, symbole de joie et de vie."
   },
   {
     region: "Oc√©anie",
     title: "Le R√™ve aborig√®ne",      
     content: "Les Aborig√®nes d‚ÄôAustralie racontent le Temps du R√™ve, origine du monde et des traditions artistiques."
   }
 ];
 
 function renderStories() {
   const region = document.getElementById("storyRegion").value;
   let filtered = stories;
   if (region !== "all") {
     filtered = stories.filter(s => s.region === region);
   }
   document.getElementById("storiesList").innerHTML = filtered.length       
     ? filtered.map(s => `
       <div style="margin:1rem 0;padding:1rem;background:rgba(255,255,255,0.08);border-radius:12px;">
         <h4 style="color:gold;margin-bottom:0.3em;">${s.title}</h4>        
         <p style="font-size:1.05em;">${s.content}</p>
         <span style="font-size:0.95em;color:#ffd700;">${s.region}</span>   
       </div>
     `).join('')
     : "<p>Aucune histoire pour cette r√©gion.</p>";
 }
 renderStories();
 </script>
 <script>
 // Stockage local pour les partages culturels (pour la d√©mo)
 let sharedCultures = JSON.parse(localStorage.getItem("sharedCultures") || "[]");
 
 // Affiche le formulaire si l'artiste est connect√©
 function renderSharedCultureForm() {if (!currentArtist) {
     document.getElementById("sharedCultureFormZone").innerHTML = "<p style='color:#ffd700;'>Connectez-vous pour partager une histoire ou une tradition de votre culture‚ÄØ!</p>";
     return;
   }
  document.getElementById("sharedCultureFormZone").innerHTML = `
   <form id="sharedCultureForm" onsubmit="submitSharedCulture(event)">
     <input type="text" id="cultureTitle" placeholder="Titre (ex: F√™te, l√©gende, tradition...)" required style="margin-bottom:0.5em;width:90%;"><br>
     <textarea id="cultureContent" placeholder="D√©crivez cette histoire, coutume ou tradition..." required style="width:90%;height:80px;margin-bottom:0.5em;"></textarea><br>
     <input type="file" id="cultureFile" accept="image/*,audio/*,video/mp4,video/webm" style="margin-bottom:0.5em;width:90%;"><br>
     <input type="url" id="cultureMedia" placeholder="Lien vid√©o/musique externe (YouTube, SoundCloud...)" style="margin-bottom:0.5em;width:90%;"><br>  
     <button type="submit">Partager</button>
   </form>
 `;
 }
 renderSharedCultureForm();
 
 function submitSharedCulture(e) {    
   e.preventDefault();
   const title = document.getElementById("cultureTitle").value.trim();      
   const content = document.getElementById("cultureContent").value.trim();  
   const media = document.getElementById("cultureMedia").value.trim();      
   const fileInput = document.getElementById("cultureFile");
   let fileData = null;
 
   // Gestion upload interne (image/audio/vid√©o)
   if (fileInput.files && fileInput.files[0]) {
     const file = fileInput.files[0]; 
     // Limite taille √† 10 Mo
     if (file.size > 10 * 1024 * 1024) {
       alert("Fichier trop volumineux (max 10 Mo).");
       return;
     }
     const reader = new FileReader(); 
     reader.onload = function(evt) {  
       fileData = evt.target.result;  
       saveSharedCulture(title, content, media, fileData, file.type);
     };
     reader.readAsDataURL(file);      
   } else {
     saveSharedCulture(title, content, media, null, null);
   }
 }
 function saveSharedCulture(title, content, media, fileData, fileType) {    
   // Validation du lien externe (YouTube, SoundCloud, etc.)
   let validLink = false;
   if (media) {
     validLink = /(youtube\.com|youtu\.be|soundcloud\.com|vimeo\.com|spotify\.com)/i.test(media);
     if (!validLink) {
       alert("Lien externe non reconnu ou non support√©.");
       return;
     }
   }
   // Ajoute le contenu en attente de validation
   sharedCultures.push({
     artist: currentArtist.name,
     pays: currentArtist.pays || currentArtist.Pays || "‚Äî",
     titre: title,
     texte: content,
     media: media,
     file: fileData,
     fileType: fileType,
     date: new Date().toLocaleDateString(),
     validated: false, // en attente de validation
     reports: 0
   });
   localStorage.setItem("sharedCultures", JSON.stringify(sharedCultures));  
   document.getElementById("sharedCultureForm").reset();
   alert("Votre contenu a √©t√© soumis et sera publi√© apr√®s validation.");    
   renderSharedCultureList();
 }
 function renderCultureMedia(url) {   
   // YouTube
   if (url.includes("youtube.com") || url.includes("youtu.be")) {
     let videoId = url.split("v=")[1] || url.split("/").pop();
     videoId = videoId.split("&")[0];
     return `<div style="margin:0.7em 0;"><iframe width="320" height="180" src="https://www.youtube.com/embed/${videoId}" frameborder="0" allowfullscreen></iframe></div>`;
   }
   // SoundCloud
   if (url.includes("soundcloud.com")) {
     return `<div style="margin:0.7em 0;"><iframe width="320" height="80" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=${encodeURIComponent(url)}"></iframe></div>`;
   }
   // Autre m√©dia (lien simple)       
   return `<div style="margin:0.7em 0;"><a href="${url}" target="_blank" style="color:#ffd700;">üé∂ Voir le m√©dia</a></div>`;
 }
 // Affiche la liste des cultures partag√©es
 function renderSharedCultureList() { 
   // Seul l'admin voit tout, les autres voient seulement validated:true    
   const isAdmin = currentArtist && currentArtist.role === "admin";
   const list = isAdmin ? sharedCultures : sharedCultures.filter(c => c.validated);
  if (!list.length) {
     document.getElementById("sharedCultureList").innerHTML = "<p>Aucune histoire ou tradition partag√©e pour l‚Äôinstant.</p>";
     return;
   }
   document.getElementById("sharedCultureList").innerHTML = list.map((c, idx) =>
     `<div style="margin:1rem 0;padding:1rem;background:rgba(255,255,255,0.08);border-radius:12px;">
       <h4 style="color:gold;margin-bottom:0.3em;">${c.titre}</h4>
       <p style="font-size:1.05em;">${c.texte}</p>
       ${c.file ? renderCultureFile(c.file, c.fileType) : ""}
       ${c.media ? renderCultureMedia(c.media) : ""}
       <span style="font-size:0.95em;color:#ffd700;">${c.pays} ‚Äî par ${c.artist} (${c.date})</span>
       ${!c.validated && isAdmin ? `<br><button onclick="validateSharedCulture(${idx})">Valider</button>` : ""}   
       <button onclick="reportSharedCulture(${idx})" style="float:right;color:red;">Signaler</button>
       <span style="float:right;margin-right:1em;color:#ffd700;">${c.reports > 0 ? "Signalements : " + c.reports : ""}</span>
     </div>`
   ).join('');
 }
 function renderCultureFile(fileData, fileType) {
   if (!fileData || !fileType) return "";
   if (fileType.startsWith("image/")) {
     return `<div style="margin:0.7em 0;"><img src="${fileData}" alt="media" style="max-width:320px;max-height:180px;border-radius:8px;"></div>`;       
   }
   if (fileType.startsWith("audio/")) {
     return `<div style="margin:0.7em 0;"><audio controls src="${fileData}" style="width:90%;"></audio></div>`;   
   }
   if (fileType.startsWith("video/")) {
     return `<div style="margin:0.7em 0;"><video controls src="${fileData}" style="max-width:320px;max-height:180px;border-radius:8px;"></video></div>`;
   }
   return "";
 }
 
 function validateSharedCulture(idx) {
   sharedCultures[idx].validated = true;
   localStorage.setItem("sharedCultures", JSON.stringify(sharedCultures));
   renderSharedCultureList();
 }
 
 function reportSharedCulture(idx) {  
   sharedCultures[idx].reports = (sharedCultures[idx].reports || 0) + 1;
   localStorage.setItem("sharedCultures", JSON.stringify(sharedCultures));  
   alert("Merci, le contenu a √©t√© signal√©.");
   renderSharedCultureList();
 }
 renderSharedCultureList();
 
 // Met √† jour le formulaire si connexion/d√©connexion
 window.showArtistWelcome = (function(orig) {
   return function() {
     orig.apply(this, arguments);     
     renderSharedCultureForm();       
   };
 })(window.showArtistWelcome);        
 
 window.logoutArtist = (function(orig) {
   return function() {
     orig.apply(this, arguments);
     renderSharedCultureForm();       
   };
 })(window.logoutArtist);
 </script>
 <script>
 // ...autres scripts...
 
 const countriesData = [
   { name: "P√©rou", lat: -9.19, lng: -75.02, code: "PE", continent: "Am√©riques", color: "#f39c12" },
   { name: "France", lat: 46.6, lng: 2.2, code: "FR", continent: "Europe", color: "#2980b9" },
   { name: "S√©n√©gal", lat: 14.5, lng: -14.5, code: "SN", continent: "Afrique", color: "#2ecc40" },
   { name: "Chine", lat: 35.8, lng: 104.2, code: "CN", continent: "Asie", color: "#e74c3c" }
 ];
 
 let globe;
 function showGlobe() {
   document.getElementById("globeContainer").innerHTML = "";
   globe = Globe()
   (document.getElementById('globeContainer'))
   .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
   .backgroundColor('rgba(0,0,0,0)')  
   .pointsData(countriesData)
   .pointLat('lat')
   .pointLng('lng')
   .pointAltitude(0.03)
   .pointColor(d => d.color)
   .pointRadius(0.7)
   .onPointClick(country => showCountryCulture(country.name))
   // Ajout des labels continents en minuscule
   .labelLat('lat')
   .labelLng('lng')
   .labelsData([
     { lat: 0, lng: 20, text: "afrique" },
     { lat: 50, lng: 15, text: "europe" },
     { lat: 35, lng: 100, text: "asie" },
     { lat: 10, lng: -70, text: "am√©riques" },
     { lat: -25, lng: 140, text: "oc√©anie" }
   ])
   .labelText('text')
   .labelSize(1.4)
   .labelColor(() => "#fff")
   .labelResolution(2)
   .labelDotRadius(0)
   .labelAltitude(0.06);
   }
 showGlobe();
 
 function showCountryCulture(countryName) {
   // Affiche la fiche culturelle du pays choisi
   let html = `<h3>${countryName}</h3>`;
   const artist = artists.find(a => (a.Pays || a.pays) === countryName);    
   if (artist) {
     html += `<p><strong>Artiste :</strong> <span style="color:gold;">${artist.name}</span></p>`;
     html += `<img src="${artist.avatar}" alt="${artist.name}" style="width:80px;height:80px;border-radius:50%;">`;
   } else {
     html += `<p><em>Aucun artiste r√©f√©renc√© pour ce pays.</em></p>`;
   }
   html += `<p><button onclick="alert('D√©mo AR danse traditionnelle bient√¥t disponible !')">üíÉ Voir une danse traditionnelle en AR</button></p>`;       
   html += `<p><audio controls src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio><br><span style="font-size:0.95em;">L√©gende racont√©e (exemple)</span></p>`;        
   const art = artworks.find(a => artist && a.artist.name === artist.name); 
   if (art) {
     html += `<p><img src="${art.image}" alt="${art.title.fr}" style="width:120px;border-radius:8px;"><br>        
     <button onclick="window.showArtworkDetail(${art.id})">Acheter cette ≈ìuvre</button></p>`;
   }
   html += `<p><button onclick="alert('Live vid√©o bient√¥t disponible !')">üî¥ Participer √† un live</button></p>`;  
     document.getElementById("cultureInfo").innerHTML = html;
   const countryObj = countriesData.find(c => c.name === countryName);      
   showAnimatedCulturePhrases(countryObj ? countryObj.continent : "");      
 }
 
 function showAnimatedCulturePhrases(continent) {
   const phrases = {
     "Afrique": ["Berceau de l‚Äôhumanit√©", "Rythmes ancestraux", "Sagesse des griots"],
     "Asie": ["Calligraphie mill√©naire", "Spiritualit√© profonde", "F√™te des lanternes"],
     "Europe": ["Renaissance artistique", "Ch√¢teaux et cath√©drales", "Philosophie et arts"],
     "Am√©riques": ["Diversit√© vibrante", "Danses rituelles", "Mythes anciens"],
     "Oc√©anie": ["Arts aborig√®nes", "√éles myst√©rieuses", "R√™ve oc√©anique"]  
   };
   const container = document.getElementById("culturePhrases");
   container.innerHTML = (phrases[continent] || []).map((txt, i) =>
    `<span style="
       display:inline-block;
       margin:0 1em;
       color:#ffd700;
       font-size:1em;
       opacity:0.85;
       animation: floatPhrase 4s ${i*0.7}s infinite alternate;
     ">${txt} <span style="color:#ffd700;">‚≠ê</span></span>`
   ).join('');
 }
 </script>
 <script>
 function showGapTab(tab) {
   // Onglet actif
   document.querySelectorAll("#gapStudioTabs button").forEach(btn => btn.classList.remove("active"));
   document.getElementById("tab" + tab.charAt(0).toUpperCase() + tab.slice(1)).classList.add("active");
 
   // Contenu selon l‚Äôonglet
   if (tab === "create") {
     document.getElementById("gapStudioContent").innerHTML = `
       <h3>Cr√©er avec l‚ÄôIA</h3>       
       <form id="gapCreateForm" onsubmit="generateGapCreation(event)">      
         <input type="text" id="gapPrompt" placeholder="D√©cris ton id√©e (ex: Un masque africain futuriste en violet et or)" style="width:90%;margin-bottom:0.7em;" required><br>
         <select id="gapType" style="margin-bottom:0.7em;">
           <option value="image">Image</option>
           <option value="musique">Musique</option>
           <option value="texte">L√©gende/Po√®me</option>
         </select><br>
         <button type="submit">G√©n√©rer</button>
       </form>
       <div id="gapResult"></div>     
     `;
   }
   if (tab === "explore") {
     document.getElementById("gapStudioContent").innerHTML = `
       <h3>Explorer la culture mondiale</h3>
       <p>Pose une question culturelle √† GAP Studio (ex: "Quelle est la signification du masque Bamil√©k√© ?")</p>  
       <form id="gapExploreForm" onsubmit="gapExplore(event)">
         <input type="text" id="gapExplorePrompt" placeholder="Ta question..." style="width:90%;margin-bottom:0.7em;" required><br>
         <button type="submit">Demander</button>
       </form>
       <div id="gapExploreResult"></div>
     `;
   }
   if (tab === "learn") {
     document.getElementById("gapStudioContent").innerHTML = `
       <h3>Apprendre & co-cr√©er</h3>  
       <ul style="text-align:left;max-width:500px;margin:0 auto;">
         <li>üñºÔ∏è Tutoriel : G√©n√©rer tonn premier NFT avec l‚ÄôIA</li>
         <li>üé∂ Composer une musique inspir√©e d‚Äôune culture</li>
         <li>ü§ù Co-cr√©er une ≈ìuvre avec GAP Studio</li>
         <li>üé≤ Quiz et d√©fis cr√©atifs</li>
       </ul>
       <p style="color:gold;">(Fonctionnalit√©s √† venir‚ÄØ: masterclass, ateliers live, etc.)</p>
     `;
   }
 }
 // Affiche l‚Äôonglet "Cr√©er" par d√©faut
 showGapTab('create');
 
 // Simulation de g√©n√©ration IA (√† remplacer par appel API plus tard)
 async function generateGapCreation(e)
 {
   e.preventDefault();
   const prompt = document.getElementById("gapPrompt").value;
   const type = document.getElementById("gapType").value;
   document.getElementById("gapResult").innerHTML = "<p><em>G√©n√©ration en cours...</em></p>";
 
   // Appel √† ton backend qui g√®re l'API IA
   const response = await fetch('https://ton-backend.com/api/gapstudio/generate', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({ prompt, type })
   });
   const data = await response.json();
 
   // Affichage du r√©sultat selon le type
   let html = "";
   if (type === "image") {
     html = `<img src="${data.imageUrl}" alt="Cr√©ation IA" style="max-width:100%;border-radius:12px;"><br>        
       <button onclick="saveGapCreation('${data.imageUrl}', 'image', '${prompt}')">Sauvegarder</button>`;
   } else if (type === "musique") {   
     html = `<audio controls src="${data.audioUrl}"></audio>
       <p><em>Musique g√©n√©r√©e inspir√©e de : ${prompt}</em></p>
       <button onclick="saveGapCreation('${data.audioUrl}', 'musique', '${prompt}')">Sauvegarder</button>`;       
   } else {
     html = `<blockquote style="background:rgba(255,255,255,0.08);padding:1em;border-radius:10px;color:gold;">${data.text}</blockquote>
       <button onclick="saveGapCreation('${data.text}', 'texte', '${prompt}')">Sauvegarder</button>`;
   }
   document.getElementById("gapResult").innerHTML = html;
 }
 async function saveGapCreation(content, type, prompt) {
   const user = currentArtist ? currentArtist.name : "Visiteur";
   const response = await fetch('https://ton-backend.com/api/gapstudio/save', {
     method: 'POST',
     headers: { 'Content-Type': 'application/json' },
     body: JSON.stringify({ user, type, prompt, content })
   });
   if (response.ok) {
     alert("Cr√©ation sauvegard√©e !"); 
   } else {
     alert("Erreur lors de la sauvegarde.");
   }
 }
 
 // Simulation de r√©ponse culturelle  
 function gapExplore(e) {
   e.preventDefault();
   const prompt = document.getElementById("gapExplorePrompt").value;        
   document.getElementById("gapExploreResult").innerHTML = "<p><em>Recherche culturelle en cours...</em></p>";    
   setTimeout(() => {
     document.getElementById("gapExploreResult").innerHTML = `
       <p><strong>R√©ponse IA :</strong> Le masque Bamil√©k√© est un symbole de pouvoir et de spiritualit√©, utilis√© lors des c√©r√©monies traditionnelles au Cameroun.</p>
       <img src="https://upload.wikimedia.org/wikipedia/commons/2/2e/Bamileke_Mask_Cameroon.jpg" alt="Masque Bamil√©k√©" style="width:180px;border-radius:10px;">
       <audio controls src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
     `;
   }, 1200);
 }

 </script>
  <script>
document.addEventListener("DOMContentLoaded", function() {
  const pi = window.Pi;
  if (pi) {
    pi.init({
      appId: "rwfp0wzvmvgafct9vwiwwyfud8ll3hnqhgzundpa2olxhdvdkagujb6tgr5g2rqt", // Mets ici ton vrai App ID Pi Network
      version: "2.0"
    });
  }

  async function connectPiWallet() {
    if (!pi) {
      alert("SDK Pi Network non charg√© !");
      return;
    }
    try {
      const scopes = ['payments', 'username', 'wallet_address'];
      const result = await pi.authenticate(scopes, onIncompletePaymentFound);
      alert("Connect√© avec Pi Network ! Utilisateur : " + result.user.username);
      localStorage.setItem("piUser", JSON.stringify(result.user));
    } catch (err) {
      alert("Erreur de connexion Pi Network : " + err.message);
    }
  }

  function onIncompletePaymentFound(payment) {
    console.log("Paiement Pi incomplet trouv√© :", payment);
  }

  const btnConnect = document.getElementById("btnConnectPi");
  if (btnConnect) btnConnect.onclick = connectPiWallet;
});
</script>
<script>
 function renderDashboardAnalytics() {
  // Nombre d'≈ìuvres num√©riques
  const nbNumerique = artworks.filter(a => a.type && a.type.toLowerCase().includes("num√©rique")).length;
  // Nombre d'≈ìuvres physiques
  const nbPhysique = artworks.filter(a => a.type && (
    a.type.toLowerCase().includes("physique") ||
    a.type.toLowerCase().includes("peinture") ||
    a.type.toLowerCase().includes("sculpture")
  )).length;

  document.getElementById("analyticsContent").innerHTML = `
    <h3>Statistiques GlobalArtPro</h3>
    <table style="margin:0 auto;">
      <tr><td><strong>Artistes inscrits :</strong></td><td>${nbArtistes}</td></tr>
      <tr><td><strong>≈íuvres en ligne :</strong></td><td>${nbOeuvres}</td></tr>
      <tr><td><strong>≈íuvres num√©riques :</strong></td><td>${nbNumerique}</td></tr>
      <tr><td><strong>≈íuvres physiques :</strong></td><td>${nbPhysique}</td></tr>
    </table>
  `;
}

// Affiche le dashboard quand on clique sur le bouton
document.getElementById("btnDashboard").onclick = function() {
  document.getElementById("dashboardSection").style.display = "block";
  renderDashboardAnalytics();
  window.scrollTo(0, document.body.scrollHeight);
};
</script>
<script>
function showDonateModal(type) {
  let html = "";
  let label = type === "pi" ? "Pi Coin" : "Art Coin";
  html = `
    <h4>Faire un don en ${label}</h4>
    <p>Entrez l‚Äôadresse du portefeuille ${label} :</p>
    <input type="text" id="walletInput" placeholder="Adresse ${label}" style="width:90%;margin-bottom:0.7em;"><br>
    <button onclick="generateWalletQR('${type}')">G√©n√©rer le QR code</button>
    <div id="walletQR" style="margin:1em 0;"></div>
    <input type="number" id="donAmount" min="1" placeholder="Montant ${label}" style="width:120px;">
    <button onclick="confirmDonate('${type}')">Valider le don</button>
  `;
  document.getElementById("donateModal").style.display = "block";
  document.getElementById("donateModal").innerHTML = html;
}

function generateWalletQR(type) {
  const wallet = document.getElementById("walletInput").value.trim();
  if (!wallet) {
    alert("Merci d‚Äôentrer une adresse de portefeuille valide.");
    return;
  }
  document.getElementById("walletQR").innerHTML = "";
  new QRious({
    element: document.getElementById("walletQR"),
    value: wallet,
    size: 140
  });
}

function confirmDonate(type) {
  const amount = document.getElementById("donAmount").value;
  const wallet = document.getElementById("walletInput").value.trim();
  if (!wallet) {
    alert("Merci d‚Äôentrer une adresse de portefeuille valide.");
    return;
  }
  if (!amount || amount <= 0) {
    alert("Merci d‚Äôentrer un montant valide.");
    return;
  }
  alert(`Merci pour votre don de ${amount} ${type === "pi" ? "Pi Coin" : "Art Coin"} √† l‚Äôadresse ${wallet} !`);
  document.getElementById("donateModal").style.display = "none";
  document.getElementById("donateModal").innerHTML = "";
}
// Donateurs fictifs avec t√©moignages
const donorWallData = [
  {
    name: "Awa Diop",
    country: "S√©n√©gal",
    amount: "50 Pi",
    message: "Je soutiens GlobalArtPro pour donner une voix aux artistes africains !"
  },
  {
    name: "Lucas Martin",
    country: "France",
    amount: "30 Art Coin",
    message: "Bravo pour cette initiative mondiale, l‚Äôart nous unit !"
  },
  {
    name: "Mei Lin",
    country: "Chine",
    amount: "100 Pi",
    message: "L‚Äôinnovation culturelle est essentielle pour l‚Äôavenir."
  },
  {
    name: "Carlos Ruiz",
    country: "P√©rou",
    amount: "20 Art Coin",
    message: "Merci de valoriser la diversit√© artistique sur la plan√®te."
  },
  {
    name: "Mia Tane",
    country: "Nouvelle-Z√©lande",
    amount: "60 Pi",
    message: "GlobalArtPro inspire la jeunesse cr√©ative d‚ÄôOc√©anie !"
  },
  {
    name: "John Smith",
    country: "√âtats-Unis",
    amount: "80 Art Coin",
    message: "Je crois en un futur o√π l‚Äôart connecte tous les peuples."
  }
];
</script>
<script>
// Fonction d‚Äôaffichage du mur des donateurs
function renderDonorWall() {
  document.getElementById("donorList").innerHTML = donorWallData.map(donor => `
    <li style="background:rgba(255,255,255,0.07);margin:0.7em 0;padding:1em;border-radius:10px;">
      <strong style="color:gold;">${donor.name}</strong> (${donor.country})<br>
      <span style="color:#ffd700;">Don : ${donor.amount}</span><br>
      <em style="color:#eee;">"${donor.message}"</em>
    </li>
  `).join('');
}

// Appelle la fonction au chargement
renderDonorWall();
function registerPartner(e) {
  e.preventDefault();
  const username = document.getElementById("partnerUsername").value.trim();
  const fullname = document.getElementById("partnerFullName").value.trim();
  const email = document.getElementById("partnerEmail").value.trim();
  const password = document.getElementById("partnerPassword").value;
  if (!username || !fullname || !email || !password) {
    document.getElementById("partnerSuccess").textContent = "Tous les champs sont obligatoires.";
    return;
  }
  // Simulation d'enregistrement
  document.getElementById("partnerSuccess").textContent = "Merci " + fullname + ", votre demande de partenariat est enregistr√©e !";
  document.getElementById("partnerRegisterForm").reset();
  setTimeout(() => {
    document.getElementById('partnerForm').style.display = 'none';
    document.getElementById("partnerSuccess").textContent = "";
  }, 2500);
}
// Donn√©es fictives pour la d√©mo
const dashboardData = {
  revenue: 1200,
  artists: 42,
  countries: 18,
  sales: 87,
  insight: "L‚ÄôAfrique de l‚ÄôOuest enregistre +25% de ventes ce mois-ci.",
  topArtists: [
    { name: "Awa Diop", pays: "S√©n√©gal", ventes: 12, revenus: "320 Pi" },
    { name: "Lucas Martin", pays: "France", ventes: 9, revenus: "210 Pi" },
    { name: "Mei Lin", pays: "Chine", ventes: 8, revenus: "180 Pi" },
    { name: "Carlos Ruiz", pays: "P√©rou", ventes: 7, revenus: "160 Pi" }
  ],
  salesByMonth: [12, 18, 22, 15, 20, 25, 30, 28, 35, 40, 45, 50]
};
</script>
<script>
// Remplissage des KPIs circulaires
function renderDashboardKPI() {
  document.getElementById("kpiRevenue").textContent = dashboardData.revenue + " Pi";
  document.getElementById("kpiArtists").textContent = dashboardData.artists;
  document.getElementById("kpiCountries").textContent = dashboardData.countries;
  document.getElementById("kpiSales").textContent = dashboardData.sales;
  document.getElementById("kpiInsight").textContent = "IA";
  document.getElementById("dashboardArtistsTable").innerHTML = dashboardData.topArtists.map(a =>
    `<tr>
      <td style="color:gold;">${a.name}</td>
      <td>${a.pays}</td>
      <td>${a.ventes}</td>
      <td>${a.revenus}</td>
    </tr>`
  ).join('');
}

// Affiche le dashboard circulaire au clic
document.getElementById("btnDashboard").onclick = function() {
  document.getElementById("dashboardSection").style.display = "block";
  renderDashboardKPI();
  window.scrollTo(0, document.body.scrollHeight);
};
</script>
<script>
// D√©tail KPI au clic
function showKPIDetail(type) {
  let html = "";
  if (type === "revenue") {
    html = "<h4>Chiffre d‚Äôaffaires</h4><p>Revenus g√©n√©r√©s par la vente d‚Äô≈ìuvres sur la plateforme, toutes monnaies confondues.</p>";
  }
  if (type === "artists") {
    html = "<h4>Artistes actifs</h4><p>Nombre d‚Äôartistes ayant publi√© ou vendu au moins une ≈ìuvre ce mois-ci.</p>";
  }
  if (type === "countries") {
    html = "<h4>Pays connect√©s</h4><p>Nombre de pays repr√©sent√©s par des artistes ou des acheteurs.</p>";
  }
  if (type === "sales") {
    html = "<h4>≈íuvres vendues</h4><p>Total des ≈ìuvres vendues sur la p√©riode s√©lectionn√©e.</p>";
  }
  document.getElementById("kpiDetail").innerHTML = html;
  document.getElementById("kpiDetail").style.display = "block";
  setTimeout(() => {
    document.getElementById("kpiDetail").style.opacity = 1;
  }, 100);
}

// Graphique d‚Äô√©volution mensuelle (utilise Chart.js)
function renderDashboardChart() {
  if (window.Chart) {
    const chart = new Chart(document.getElementById("salesChart").getContext("2d"), {
      type: "doughnut", // ou "pie"
      data: {
        labels: ["Artistes", "≈íuvres", "Pays", "Num√©rique", "Physique"],
        datasets: [{
          data: [42, 87, 18, 55, 32],
          backgroundColor: [
            '#ffd700', '#6a11cb', '#2ecc40', '#e74c3c', '#2980b9'
          ]
        }]
      },
      options: {
        plugins: { legend: { display: false } },
        cutout: '70%',
        responsive: false
      }
    });

    // Ajoute le logo au centre du canvas
    const img = new Image();
img.src = "image/logo globalartpro.jpeg";
img.onload = function() {
  const ctx = chart.ctx;
  const { width, height } = chart.canvas;
  ctx.save();
  ctx.beginPath();
  ctx.arc(width/2, height/2, 50, 0, 2 * Math.PI);
  ctx.closePath();
  ctx.clip();
  ctx.drawImage(img, width/2 - 50, height/2 - 50, 100, 100);
  ctx.restore();
    };
  }
}
</script>
<script>
// Carte des ventes (d√©mo simple)
function renderDashboardMap() {
  document.getElementById("dashboardMap").innerHTML = `
    <div style="display:flex;justify-content:space-around;">
      <div style="color:#2ecc40;">Afrique<br><span style="font-size:1.3em;">25 ventes</span></div>
      <div style="color:#2980b9;">Europe<br><span style="font-size:1.3em;">22 ventes</span></div>
      <div style="color:#e74c3c;">Asie<br><span style="font-size:1.3em;">18 ventes</span></div>
      <div style="color:#f39c12;">Am√©riques<br><span style="font-size:1.3em;">15 ventes</span></div>
      <div style="color:#9b59b6;">Oc√©anie<br><span style="font-size:1.3em;">7 ventes</span></div>
    </div>
  `;
}

let artCoinBalance = parseInt(localStorage.getItem("artCoinBalance") || "0");
let energy = Math.min(artCoinBalance * 10, 100); // 10% par ARTC min√©, max 100%
let artistsHelped = Math.floor(artCoinBalance / 4); // 1 artiste aid√© tous les 4 ARTC
let minersCount = 5243 + Math.floor(Math.random() * 100); // d√©mo
let hashPower = 125 + Math.floor(Math.random() * 10); // d√©mo
let topMiner = "Awa Diop";

function updateMiningUI() {
  document.getElementById("artCoinBalance").textContent = artCoinBalance;
  document.getElementById("energyFill").style.width = energy + "%";
  document.getElementById("energyPercent").textContent = energy + "%";
  document.getElementById("artistsHelped").textContent = artistsHelped;
  document.getElementById("minersCount").textContent = minersCount;
  document.getElementById("hashPower").textContent = hashPower + " kH/s";
  document.getElementById("topMiner").textContent = topMiner;
}
const miningPhrases = [
  "L‚Äôart est √©nergie ‚Äî votre minage nourrit la cr√©ativit√© du monde.",
  "Chaque ARTC forg√© est une ≈ìuvre partag√©e.",
  "Votre √©nergie fait rayonner la m√©moire culturelle.",
  "Un pinceau, une note, un r√™ve : vous soutenez l‚Äôart vivant.",
  "La lumi√®re de votre minage circule dans le totem digital.",
  "Ensemble, nous b√¢tissons le patrimoine artistique mondial."
];

function showRandomMiningPhrase() {
  const phrase = miningPhrases[Math.floor(Math.random() * miningPhrases.length)];
  document.getElementById("miningPhrase").textContent = phrase;
}

// Affiche une phrase inspirante √† chaque chargement et minage
showRandomMiningPhrase();

function mineArtCoin() {
  artCoinBalance += 1;
  localStorage.setItem("artCoinBalance", artCoinBalance);
  energy = Math.min(artCoinBalance * 10, 100);
  artistsHelped = Math.floor(artCoinBalance / 4);
  document.getElementById("miningResult").textContent =
    "Bravo ! Tu viens de miner 1 ARTC et de soutenir la communaut√© artistique mondiale üé®üåç";
  updateMiningUI();
  animateAura();
  showRandomMiningPhrase();
  setTimeout(() => {
    document.getElementById("miningResult").textContent = "";
  }, 2500);
}
// Initialisation au chargement
updateMiningUI();
</script>
<script>
function animateAura() {
  const aura = document.getElementById("miningAura");
  aura.style.transition = "transform 0.7s cubic-bezier(.23,1.13,.55,.99), box-shadow 0.7s";
  aura.style.transform = "translate(-50%, -50%) scale(1.25) rotate(0deg)";
  aura.style.boxShadow = "0 0 96px 32px #ffd700cc, 0 0 128px 32px #6a11cb99";
  setTimeout(() => {
    aura.style.transform = "translate(-50%, -50%) scale(1) rotate(0deg)";
    aura.style.boxShadow = "0 0 48px 12px #ffd70088, 0 0 64px 16px #6a11cb55";
  }, 1200);
}
</script> 
<script>
document.getElementById("btnGenerateImage").onclick = function() {
  fetch("http://localhost:5000/api/gapstudio/generate", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ prompt: "Un lion", type: "replicate-image" })
  })
    .then(res => res.json())
    .then(data => {
      if (data.imageUrl) {
        alert("Image g√©n√©r√©e : " + data.imageUrl);
      } else {
        alert("Erreur : " + (data.error || "Aucune image g√©n√©r√©e"));
      }
    });
};

document.getElementById("btnPiPayment").onclick = function() {
  fetch("http://localhost:5000/api/gapstudio/pi-payment", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ amount: 3.14, userWallet: "pi_wallet_address", itemName: "≈íuvre d'art" })
  })
    .then(res => res.json())
    .then(data => {
      if (data.success) {
        alert("Paiement simul√© : " + JSON.stringify(data.transaction));
      } else {
        alert("Erreur : " + (data.message || "Paiement √©chou√©"));
      }
    });
};
</script>
</body>
</html>